<div id="modal_monitor_detailTicket">
    <h3 class="modal-header" i18n>Ticket Detail</h3>
    <div class="padding-10-20" *ngIf="box$ | async; let box">
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Ticket Number</div>
            <div fxFlex>{{ticket.cnum}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>State</div>
            <div fxFlex class="capitalize">{{ticket.state}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Service</div>
            <div fxFlex>
                <span>{{ticket.service_id | serviceName}}</span>
            </div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Time of ticket printed</div>
            <div fxFlex>{{ticket.ctime | localDayTime}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="showWaiting">
            <div fxFlex i18n>Waiting Time</div>
            <timer fxFlex [start]="ticket.mtime" [timeWarning]="15"></timer>
        </div>

        <div class="margin-t-10" fxLayout="row" fxLayoutGap="20px" *ngIf="!showWaiting">
            <div fxFlex i18n>Waiting Time</div>
            <span fxFlex>{{ticket.mtime - ticket.ctime | timeDuration}}</span>
        </div>

        <div class="margin-t-10" fxLayout="row" fxLayoutGap="20px" *ngIf="showServing">
            <div fxFlex i18n>Serving Time</div>
            <div fxFlex>
                <timer *ngIf="ticket.state === 'serving'" [start]="ticket.mtime" [timeWarning]="1"></timer>
                <div *ngIf="ticket.state === 'finished'"> {{ticket.__stime | timeDuration}} </div>
                <div *ngIf="ticket.state === 'cancelled'"> 00:00:00 </div>
            </div>
        </div>

        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Branch</div>
            <div fxFlex *ngIf="box.parent; let p">{{p.name}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Store</div>
            <div fxFlex *ngIf="box.branch; let b">{{b.name}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="ticket.state !== 'waiting' && ticket.state !== 'missed'">
            <div fxFlex i18n>Tellers</div>
            <div fxFlex>{{ticket.user_id | userFullName}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="ticket.state !== 'waiting' && ticket.state !== 'missed'">
            <div fxFlex i18n>Counter</div>
            <div fxFlex>{{ticket.counter_id | counterName }}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Manager</div>
            <div fxFlex *ngIf="box.users.manager; let u">{{u.fullname}}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">
            <div fxFlex i18n>Administrator</div>
            <div fxFlex *ngIf="box.users.admin; let u">{{u.fullname}}</div>
        </div>

        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="customer">
            <div fxFlex i18n>Customer Name</div>
            <div fxFlex> {{customer.full_name }}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="customer">
            <div fxFlex i18n>Code ID</div>
            <div fxFlex> {{customer.code }}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="customer">
            <div fxFlex i18n>Phone Number</div>
            <div fxFlex> {{customer.phone_number }}</div>
        </div>
        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="customer">
            <div fxFlex i18n>Segment</div>
            <div fxFlex> {{customer.segment }}</div>
        </div>

        <button class="btnFill uppercase" (click)="close()" i18n>Close</button>
    </div>
</div>