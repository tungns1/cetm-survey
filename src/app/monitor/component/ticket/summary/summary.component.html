<div id="summaryComponent">
    <h2 class="header uppercase">Tống quan</h2>
    <table class="tableCtrl">
        <thead class="uppercase">
            <th> Cửa hàng</th>
            <th> SL. vé đã in</th>
            <th> SL. vé đợi </th>
            <th> SL. vé đang phục vụ </th>
            <th> Lượt vé đã phục vụ </th>
            <th> SL. vé nhỡ </th>
            <th> SL. vé hủy </th>
            <th> SL. vé đợi trên 15' </th>
            <th> SL. vé phục vụ dưới 2' </th>
        </thead>
        <tbody>
            <tr *ngFor="let s of summary$ | async" (click)="focus(s)" class="branchSummary">
                <td> {{s.branch_id | branchName}} </td>
                <td> {{s.printed}}</td>
                <td translate> {{s.waiting}}</td>
                <td translate> {{s.serving}}</td>
                <td translate> {{s.finished}}</td>
                <td translate> {{s.missed}}</td>
                <td translate> {{s.cancelled}}</td>
                <td translate [ngClass]="{'warning': (s.wait_long/s.waiting)*100 > 40}"> 
                    <span>{{s.wait_long}} ({{s.wl_percent.toFixed(2)}})%</span>
                </td>
                <td translate> {{s.serve_short}}</td>
            </tr>
            <tr>
                <td class="uppercase"> Tổng </td>
                <td> {{total.printed}}</td>
                <td translate> {{total.waiting}}</td>
                <td translate> {{total.serving}}</td>
                <td translate> {{total.finished}}</td>
                <td translate> {{total.missed}}</td>
                <td translate> {{total.cancelled}}</td>
                <td translate [ngClass]="{'warning': (total.wait_long/total.waiting)*100 > 40}"> 
                    <span>{{total.wait_long}} ({{total.wl_percent.toFixed(2)}})%</span>
                </td>
                <td translate> {{total.serve_short}}</td>
            </tr>
        </tbody>
    </table>
    <monitor-chart [data]="total" ></monitor-chart>
</div>