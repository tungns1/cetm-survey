<style>
    input[type=number] {
        width: 50px;
    }
    
    .advanced-filter {
        padding-bottom: 10px;
        padding-top: 10px;
    }
</style>

<div class="advanced-filter">
    <form (ngSubmit)="onSubmit()" #filterHistory="ngForm">
        <label>Waiting Time (minutes):
            <input type="number" placeholder="min" [(ngModel)]="filter.wtimemin" name="wtimemin"
               #wtimemin="ngModel" min="0" (ngModelChange)="sync()"> 
            <input type="number" placeholder="max" [(ngModel)]="filter.wtimemax" name="wtimemax"
               #wtimemax="ngModel" min="{{filter.wtimemin}}">
        </label>
        <label>Serving Time (minutes):
            <input type="number" placeholder="min" [(ngModel)]="filter.stimemin" name="stimemin"
               #stimemin="ngModel" min="0" (ngModelChange)="sync()"> 
            <input type="number" placeholder="max" [(ngModel)]="filter.stimemax" name="stimemax"
               #stimemax="ngModel" min="{{filter.stimemin}}">
        </label>
        <label> Feedback
        <select [(ngModel)]="filter.rating" name="rating"
               #rating="ngModel">
            <option value="">Choose feedback</option>
            <option value="veryGood">Very Good</option>
            <option value="good">Good</option>
            <option value="average">Average</option>
            <option value="poor">Poor</option>
        </select>
        </label>
        <button type="submit">Go now!</button>
    </form>
</div>

<div class="search-table-outter" style="width: 80vw">
    <div class="report-scrollbar">
        <table class="search-table">
            <thead>
                <th class="hl-stt-history" translate> HISTORY.NUMERICAL_ORDER </th>
                <th translate> HISTORY.DATE </th>
                <th translate> HISTORY.BRANCH </th>
                <th translate> HISTORY.TRANSACTION_ROOM </th>
                <th translate>HISTORY.SERVICE </th>
                <th translate>HISTORY.COUNTER</th>
                <th translate>HISTORY.TELLERS </th>
                <th translate>HISTORY.TICKET_NUMBER </th>
                <th translate> HISTORY.TICKET_PRINTED_TIME</th>
                <th translate> HISTORY.TIME_WAIT</th>
                <th translate> HISTORY.TIME_SERVING</th>
                <th class="number" translate>HISTORY.FEEDBACK_RESULT</th>
                <th translate>HISTORY.DETAIL</th>
            </thead>
            <tbody class="table-row">
                <tr *ngFor="let d of paging.data$ | async; let i = index">
                    <td class="stt">{{(i+1)+(paging.Skip)}}</td>
                    <td class="td-date-rp"> {{d.cdate}} </td>
                    <td class="td-string-rp"> {{d.parent}} </td>
                    <td class="td-string-rp"> {{d.branch}} </td>
                    <td class="td-string-rp"> {{d.service}} </td>
                    <td class="td-counter-rp"> {{d.counter}} </td>
                    <td class="td-string-rp"> {{d.user}} </td>
                    <td class="td-number-rp"> {{d.cnum}} </td>
                    <td class="td-date-rp"> {{d.ctime}} </td>
                    <td class="td-date-rp"> {{d.wtime}} </td>
                    <td class="td-date-rp"> {{d.stime}} </td>
                    <td class="td-number-rp">{{d.rating}}</td>
                    <td class="td-number-rp">
                        <i class="fa fa-eye pointer" (click)="detail.SetData(d)"></i> &nbsp;
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="hl-footer-history">
        <div class="hl-info-history">
            {{paging.info$ | async}}
        </div>
        <div class="hl-pagination-history">
            <button class="hl-btn-history" md-button *ngFor="let p of paging.pages$ | async" [class.active]="paging.IsActive(p)" (click)="chuyenTrang(p.page)">
            {{p.title}}
        </button>
        </div>
    </div>
</div>

<div class="hl-exportf-history">
    <button class="bt btpointer hl-btn-history" (click)="excel()" translate>HISTORY.BUTTON_EXPORT_FILE</button>
</div>

<transaction #detail></transaction>