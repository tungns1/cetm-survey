<modal class="report_history_modal" *ngIf="data">
    <div class="modal-header"><span i18n>Ticket detail</span></div>
    <accordion>
        <accordion-title class="accordionTitle">
            <span i18n>Ticket detail</span>
        </accordion-title>
        <table class="detailTicket">
            <tr>
                <td class="labelCtrl"><b i18n>Branch</b></td>
                <td>{{data.parent}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Store</b></td>
                <td>{{data.branch}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Counter no</b></td>
                <td>{{data.counter}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Teller</b></td>
                <td>{{data.user}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Ticket number</b></td>
                <td>{{data.cnum}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"> <b i18n>Service name</b></td>
                <td>{{data.service}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Ticket status</b></td>
                <td>{{state}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Print time</b></td>
                <td>{{data.ctime}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Waiting duration</b></td>
                <td>{{data.wtime}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Serving duration</b></td>
                <td>{{data.stime}}</td>
            </tr>
            <tr>
                <td class="labelCtrl"><b i18n>Date</b></td>
                <td>{{data.cdate}}</td>
            </tr>
        </table>
    </accordion>
    <div *ngIf="customer" class="customer">
        <div class="cusDetail" fxLayout="row">
            <b fxFlex class="labelCtrl" i18n>Customer</b>
            <span fxFlex i18n>{{customer.full_name}}</span>
        </div>
        <div class="cusDetail" fxLayout="row">
            <b fxFlex class="labelCtrl" i18n>Phone number</b>
            <span fxFlex>{{customer.phone_number}}</span>
        </div>
        <div class="cusDetail" fxLayout="row">
            <b fxFlex class="labelCtrl" i18n>Customer code</b>
            <span fxFlex (click)="goToCustomer(data.customer_id)" style="text-decoration: underline; color: blue;" i18n-title="Go to customer detail">{{customer.code}}</span>
        </div>
        <div class="cusDetail" fxLayout="row">
            <b fxFlex class="labelCtrl" i18n>Customer segment</b>
            <span fxFlex>{{customer.segment}}</span>
        </div>
        <div class="cusDetail">
            <audio [class.hidden]="!link" controls [src]="link"></audio>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex></div>
        <button fxFlex class="btnFill ctrlBtn" (click)="Close()" i18n> CLOSE </button>
    </div>
</modal>