<report-chart>
    <chart-item-group-view #pieConfig>
        <chart-item-group group="pie">
            <chart-item field="c_r" color="#ffb07b" i18n-title title="Transaction feedback"></chart-item>
            <chart-item field="c_r_o" color="#f56300" i18n-title title="Transaction without feedback"></chart-item>
        </chart-item-group>
        <chart-item-group group="pie">
            <chart-item field="c_r_a" color="#ff9a00" i18n-title title="Very good feedback"></chart-item>
            <chart-item field="c_r_b" color="#3266cc" i18n-title title="Good feedback"></chart-item>
            <chart-item field="c_r_c" color="#990099" i18n-title title="Average feedback"></chart-item>
            <chart-item field="c_r_d" color="#dc3812" i18n-title title="Poor feedback"></chart-item>
        </chart-item-group>
    </chart-item-group-view>
    <chart-item-group-view #otherConfig>
        <chart-item-group group="other">
            <chart-item field="c_r_a" color="#ff9a00" i18n-title title="Very good feedback"></chart-item>
            <chart-item field="c_r_b" color="#3266cc" i18n-title title="Good feedback"></chart-item>
            <chart-item field="c_r_c" color="#990099" i18n-title title="Average feedback"></chart-item>
            <chart-item field="c_r_d" color="#dc3812" i18n-title title="Poor feedback"></chart-item>
        </chart-item-group>
    </chart-item-group-view>
</report-chart>
<!-- Feedback -->
<table id="tableEl" class="tableOverView" style="width: 100%;">
    <thead>
        <th i18n>No.</th>
        <th [groupByTitle]="field"></th>
        <th i18n>Transaction feedback</th>
        <th i18n>Transaction without feedback</th>
        <th i18n>Very good feedback</th>
        <th i18n>Good feedback</th>
        <th i18n>Average feedback</th>
        <th i18n>Poor feedback</th>
    </thead>
    <tbody>
        <tr *ngFor="let d of data; let i = index">
            <td style="text-align: center;"> {{i + 1}} </td>
            <td style="text-align: center;">{{field | groupByTitle:d}} </td>
            <td>
                <div class="hl-numrp-align">{{d.c_r}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_ft>0"> ({{d.c_r/d.c_ft*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_ft===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_r_o}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_ft>0"> ({{d.c_r_o/d.c_ft*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_ft===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align"> {{d.c_r_a}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_r>0">  ({{d.c_r_a/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_r_b}}</div>
                <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_b/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align"> {{d.c_r_c}}</div>
                <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_c/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_r_d}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_d/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span> </div>
            </td>
        </tr>
    </tbody>
</table>

<div class="divider"></div>
<div fxLayout="row">
    <div fxFlex="80%"></div>
    <button fxFlex class="btnClear uppercase margin-20-10" (click)="excel()" i18n>Export to excel</button>
</div>