<report-chart>
    <chart-item-group-view #pieConfig>
        <chart-item-group group="pie">
            <chart-item field="c_ft" color="#FF866A" title="Finished Transaction"></chart-item>
            <chart-item field="c_ct" color="#FFD2C7" title="Cancelled Transaction"></chart-item>
        </chart-item-group>
        <chart-item-group group="pie">
            <chart-item field="c_bwt" color="#ff974d" title="Standard waiting time transaction"></chart-item>
            <chart-item field="c_awt" color="#C7FFD1" title="Exceeded waiting time transaction"></chart-item>
        </chart-item-group>
        <chart-item-group group="pie">
            <chart-item field="c_bst" color="#7BDEFF" title="Standard serving time transaction"></chart-item>
            <chart-item field="c_ast" color="#C7F1FF" title="Exceeded serving time transaction"></chart-item>
        </chart-item-group>
    </chart-item-group-view>
    <chart-item-group-view #otherConfig>
        <chart-item-group group="other">
            <chart-item field="c_t" color="#FFE8B4" title="Total Transaction"></chart-item>
            <chart-item field="c_ft" color="#F3CEFF" title="Finished Transaction"></chart-item>
            <chart-item field="c_ct" color="#66CCA3" title="Cancelled Transaction"></chart-item>
        </chart-item-group>
    </chart-item-group-view>
</report-chart>

<table id="tableEl" class="tableOverView" style="width: 100%">
    <thead>
        <th i18n>No.</th>
        <th [groupByTitle]="field"></th>
        <th i18n>Total Transaction</th>
        <th i18n>Finished Transaction</th>
        <th i18n>Canceled Transaction</th>
        <th i18n>Standard waiting time transaction</th>
        <th class="widthCtrl" i18n>Exceeded waiting time transaction</th>
        <th class="widthCtrl" i18n>Standard serving time transaction</th>
        <th class="widthCtrl" i18n>Exceeded serving time transaction</th>
    </thead>
    <tbody>
        <tr *ngFor="let d of data; let i = index">
            <td style="text-align: center;"> {{i + 1}} </td>
            <td style="text-align: center;">{{field | groupByTitle:d}}</td>
            <td style="text-align: center"> {{d.c_t}} </td>
            <td>
                <div class="hl-numrp-align">{{d.c_ft}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{d.c_ft/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_t - d.c_ft}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{(1 - d.c_ft/d.c_t)*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span> </div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_bwt}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{d.c_bwt/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_t-d.c_bwt}}</div>
                <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{(d.c_t-d.c_bwt)/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_bst}}</div>
                <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_t>0"> ({{d.c_bst/d.c_t*100 | number : '1.2-2'}}%) </span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
            </td>
            <td>
                <div class="hl-numrp-align">{{d.c_t-d.c_bst}}</div>
                <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_t>0"> ({{(d.c_t-d.c_bst)/d.c_t*100 | number : '1.2-2'}}%) </span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
            </td>
        </tr>
    </tbody>
</table>

<div class="divider"></div>
<div fxLayout="row">
    <div fxFlex="80%"></div>
    <button fxFlex class="btnClear uppercase margin-20-10" (click)="excel()">Export to Excel</button>
</div>