<div id="overView">
    <table class="tableOverView" *ngIf="general$ | async">
        <thead>
            <th i18n>No.</th>
            <th i18n> {{groupBy$ | async | groupByTitle}} </th>
            <th i18n>Total transaction</th>
            <th i18n>Finished transaction</th>
            <th i18n>Canceled transaction</th>
            <th i18n>Standard waiting time transaction</th>
            <th class="widthCtrl" i18n>Exceeded waiting time transaction</th>
            <th class="widthCtrl" i18n>Standard serving time transaction</th>
            <th class="widthCtrl" i18n>Exceeded serving time transaction</th>
        </thead>
        <tbody>
            <tr *ngFor="let d of data$ | async; let i = index">
                <td> {{i + 1}} </td>
                <td style="text-align: center;">{{d.name}}</td>
                <td> {{d.c_t}} </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_ft}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{d.c_ft/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_ct}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{d.c_ct/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span> </div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_bwt}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{d.c_bwt/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_t-d.c_bwt}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_t>0"> ({{(d.c_t-d.c_bwt)/d.c_t*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_bst}}</div>
                    <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_t>0"> ({{d.c_bst/d.c_t*100 | number : '1.2-2'}}%) </span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_t-d.c_bst}}</div>
                    <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_t>0"> ({{(d.c_t-d.c_bst)/d.c_t*100 | number : '1.2-2'}}%) </span><span *ngIf="d.c_t===0"> (0.00%)</span></div>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Time View -->
    <table class="tableOverView" *ngIf="time$ | async">
        <thead>
            <th i18n>No.</th>
            <th i18n> {{groupBy$ | async | groupByTitle}} </th>
            <th i18n>Total time transaction</th>
            <th i18n>Total serving time</th>
            <th i18n>Total time wait</th>
            <th i18n>Serving time avarage</th>
            <th i18n>Serving time min</th>
            <th i18n>Serving time max</th>
            <th i18n>Waiting time avarage</th>
            <th i18n>Waiting time min</th>
            <th i18n>Waiting time max</th>
        </thead>
        <tbody>
            <tr *ngFor="let d of data$ | async; let i = index">
                <td> {{i + 1}} </td>
                <td style="text-align: left;">{{d.name}} </td>
                <td> {{d.s_tt | timeDuration}} </td>
                <td> {{d.s_st | timeDuration}}&nbsp;<span *ngIf="d.s_tt>0"> ({{d.s_st/d.s_tt*100 | number : '1.2-2'}}%)</span><span *ngIf="d.s_tt===0"> (0.00%)</span></td>
                <td> {{d.s_wt | timeDuration}}&nbsp;<span *ngIf="d.s_tt>0"> ({{d.s_wt/d.s_tt*100 | number : '1.2-2'}}%)</span><span *ngIf="d.s_tt===0"> (0.00%)</span> </td>
                <td> {{d.a_st | timeDuration}} </td>
                <td> {{d.min_st | timeDuration}} </td>
                <td> {{d.max_st | timeDuration}} </td>
                <td> {{d.a_wt | timeDuration}} </td>
                <td> {{d.min_wt | timeDuration}} </td>
                <td> {{d.max_wt | timeDuration}} </td>
            </tr>
        </tbody>
    </table>

    <!-- Feedback -->
    <table class="tableOverView" *ngIf="customer$ | async">
        <thead>
            <th i18n>No.</th>
            <th i18n> {{groupBy$ | async | groupByTitle}} </th>
            <th i18n>Transaction feedback</th>
            <th i18n>Transaction no feedback</th>
            <th i18n>Very good feedback</th>
            <th i18n>Good feedback</th>
            <th i18n>Average feedback</th>
            <th i18n>Poor feedback</th>
        </thead>
        <tbody>
            <tr *ngFor="let d of data$ | async; let i = index">
                <td> {{i + 1}} </td>
                <td style="text-align: left;">{{d.name}} </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_r}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_ft>0"> ({{d.c_r/d.c_ft*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_ft===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_r_o}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_ft>0"> ({{d.c_r_o/d.c_ft*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_ft===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align"> {{d.c_r_a}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_r>0">  ({{d.c_r_a/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_r_b}}</div>
                    <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_b/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align"> {{d.c_r_c}}</div>
                    <div class="hl-text-cen"> &nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_c/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span></div>
                </td>
                <td>
                    <div class="hl-numrp-align">{{d.c_r_d}}</div>
                    <div class="hl-text-cen">&nbsp;<span *ngIf="d.c_r>0"> ({{d.c_r_d/d.c_r*100 | number : '1.2-2'}}%)</span><span *ngIf="d.c_r===0"> (0.00%)</span> </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>