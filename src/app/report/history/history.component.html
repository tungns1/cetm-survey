<div fxLayout="row">
    <div [fxFlex]="'250px'" class="leftFilter">
        <report-filter (refresh)="refresh($event)" [inside]="'yes'" style="padding-top: 50px; height: 100%"></report-filter>
    </div>

    <div fxFlex style="overflow: auto;" class="mainContent">
        <div class="main_miraway">
            <app-env-sub-module i18n-title title="History"></app-env-sub-module>
            <div id="historyReport">
                <div class="headerAndNav">
                    <h2 class="header uppercase" i18n>Transaction History</h2>
                    <div class="nav">
                        <button class="btnClear btnMargin uppercase" appSafeNav="/report/dashboard" i18n>Gerenal</button>
                        <button class="btnClear btnMargin uppercase" appSafeNav="/report/customer" i18n>Customer</button>
                        <button class="btnClear btnMargin uppercase" appSafeNav="/report/kiosk" i18n>Kiosk Effectiveness</button>
                    </div>
                </div>

                <history-filter (filterChange)="onFilterChange($event)"></history-filter>
                <ag-grid-angular #agGrid style="height: 300px;" [gridOptions]="gridOptions" [rowData]="data" class="ag-material tableCtrl"
                        enableColResize enableSorting>
                    <ag-grid-column headerName="No." field="cdate" [width]="50" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Date" field="cdate" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Branch" field="parent" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Store" field="branch" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Service" field="service" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Counter" field="counter" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Teller" field="user" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Ticket" field="cnum" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Print Time" field="ctime" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Waiting Time" field="wtime" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Serving Time" field="stime" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Feedback" field="rating" [width]="100" cellClass="center" i18n-headerName></ag-grid-column>
                    <ag-grid-column headerName="Detail" cellClass="center" 
                        [cellRenderer]="detailCellRenderer" [width]="50" i18n-headerName></ag-grid-column>
                </ag-grid-angular>
                

                <!--<table class="tableCtrl">
                    <thead class="">
                        <th i18n>No.</th>
                        <th i18n>Date</th>
                        <th i18n>Branch</th>
                        <th i18n>Store</th>
                        <th i18n>Service</th>
                        <th i18n>Counter</th>
                        <th i18n>Teller</th>
                        <th i18n>Ticket</th>
                        <th i18n>Print Time</th>
                        <th i18n>Waiting Time</th>
                        <th i18n>Serving Time </th>
                        <th i18n>Feedback</th>
                        <th i18n>Detail</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let d of paging.data$ | async; let i = index">
                            <td>{{(i+1)+(paging.Skip)}}</td>
                            <td> {{d.cdate}} </td>
                            <td> {{d.parent}} </td>
                            <td> {{d.branch}} </td>
                            <td> {{d.service}} </td>
                            <td> {{d.counter}} </td>
                            <td> {{d.user}} </td>
                            <td> {{d.cnum}} </td>
                            <td> {{d.ctime}} </td>
                            <td> {{d.wtime}} </td>
                            <td> {{d.stime}} </td>
                            <td>{{d.rating}}</td>
                            <td>
                                <img class="iconDetail" src="./assets/img/icon/play.png" (click)="showDetails(d)" alt="Search" style="cursor: pointer">
                            </td>
                        </tr>
                    </tbody>
                </table>-->

                <!--<div class="paginNExport">
                    <div class="pagin" *ngIf="isShowPagin">
                        <button class="pointer" *ngFor="let p of paging.pages$ | async" [class.active]="paging.IsActive(p)" (click)="pagin(p.page)">{{p.title}}</button>
                    </div>
                    <button class="btnClear export uppercase" (click)="excel()">
                        <i class="fa fa-file-excel-o fa-lg"></i>
                        <span i18n>Export to excel</span>
                    </button>
                </div>-->
            </div>
        </div>
        <footer></footer>
    </div>
</div>