<div class="search-table-outter">
    <div class="report-scrollbar">
        <table class="search-table">
            <thead>
                <th class="stt"> STT </th>
                <th translate> HISTORY.DATE </th>
                <th translate> HISTORY.AREA</th>
                <th translate> HISTORY.BRANCH </th>
                <th translate> HISTORY.TRANSACTION_ROOM </th>
                <th translate>HISTORY.SERVICE </th>
                <th translate>HISTORY.COUNTER</th>
                <th translate>HISTORY.TELLERS </th>
                <th translate>HISTORY.TICKET_NUMBER </th>
                <th class="number" translate>HISTORY.FEEDBACK_RESULT</th>
                <th></th>
            </thead>
            <tbody class="table-row">
                <tr *ngFor="let d of data | async; let i = index">
                    <td class="stt">{{(i+1)+(skip | async)}}</td>
                    <td class="td-date-rp"> {{d.cdate}} </td>
                    <td class="td-string-rp"> {{d.branches[2]}} </td>
                    <td class="td-string-rp"> {{d.branches[1]}} </td>
                    <td class="td-string-rp"> {{d.branches[0]}} </td>
                    <td class="td-string-rp"> {{d.service}} </td>
                    <td class="td-counter-rp"> {{d.counter}} </td>
                    <td class="td-string-rp"> {{d.user}} </td>
                    <td class="td-number-rp"> {{d.cnum}} </td>
                    <!--<td class="td-date-rp"> {{d.ctime}} </td>
                    <td class="td-date-rp"> {{d.wtime}} </td>
                    <td class="td-date-rp"> {{d.fc_at}} </td>
                    <td class="td-date-rp"> {{d.stime}} </td>
                    <td class="td-date-rp"> {{d.fi_at}} </td>-->
                    <td class="td-number-rp">{{d.rating}}</td>
                    <td><label (click)="Detail(d)" style="text-decoration: underline;">Chi tiáº¿t</label></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="footer">
    <div class="info">
        {{info | async}}
    </div>
    <div class="pagination">
        <button md-button *ngFor="let p of pages  | async" [ngClass]="{'active':(current | async)==p.page,'first':(current | async)==1 && p.page==1 && (p.title=='Previous' || p.title=='First'),'last':(current | async)==total && p.page==total && (p.title=='Next' || p.title=='Last')}"
            (click)="chuyenTrang(p.page)">{{p.title}}</button>
    </div>
</div>


<div style="float: right;margin-top: 20px;">
    <button class="bt btpointer" (click)="excel()" translate>HISTORY.BUTTON_EXPORT_FILE</button>
</div>

<modal #detail *ngIf="dt | async">
    <div style="text-align: center;color: red;font-size:18px;font-weight:700;" translate> HISTORY.TITLE_DETAIL</div>
    <span translate> HISTORY.TICKET_NUMBER </span><br>
    <span>{{transaction.cnum}}</span>
    <span translate> HISTORY.TIME_CREATE_TICKET</span><br>
    <span>{{transaction.ctime}}</span>
    <span translate> HISTORY.TIME_WAIT</span><br>
    <span>{{transaction.wtime}}</span>
    <span translate> HISTORY.TIME_CALL_TICKET</span><br>
    <span>{{transaction.fc_at}}</span>
    <span translate> HISTORY.TIME_SERVING</span><br>
    <span>{{transaction.stime}}</span>
    <span translate> HISTORY.TIME_FINISH</span><br>
    <span>{{transaction.fi_at}}</span>
    <span translate> HISTORY.AUDIO</span><br>
    <audio controls>
        <source [src]="url_audio" type="audio/ogg">
        <source [src]="url_audio" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <div style="float:right;">
        <button class="button" (click)="detail.Close()" style="height:25px;" translate> BUTTON_CLOSE </button>
    </div>

</modal>